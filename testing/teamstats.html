
<!DOCTYPE html>
<html lang="en">

<head>
  <title>RSC Player Stats</title>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
  <!-- <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.4.6"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-transform/1.0.4/d3-transform.min.js" integrity="sha512-mxtQ5axoakkabgk9lnYJsaCL+BryRmZ4py80vqOf8UIbZhwc+m1bqmnge6Khd7sOLh2gPFCaKiynJEnqR79CaA==" crossorigin="anonymous"></script>
  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css'>
  <!-- <link rel="stylesheet" href="./style1.css"> -->
</head>

<body onload="">
    <canvas id="myCanvas" width="1920" height="1080">
    </canvas>
    <img id="blueLogo" width="0" height="0" src= "../assets/logos/Active Logos/Dino Park.png">
    <img id="orangeLogo" width="0" height="0" src= "../assets/logos/Active Logos/Dino Park.png">
    <img id="background" width="0" height="0" src= "../assets/Season_X_Stats.png">
   <script>
    
    function loadImage() {

        //document.getElementById("myCanvas").style.background = "url('../assets/Season_X_Player.png')";
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        var Blue = document.getElementById("blueLogo");
        var Orange = document.getElementById("orangeLogo");
        var Background = document.getElementById("background");
        ctx.drawImage(Background, 0, 0, 1920, 1080)
        ctx.font = "45px Verdana";
        ctx.fillStyle = "#f5f5f5";
        ctx.textAlign = 'center';
        ctx.fillText(BlueWins, 755, 350)
        ctx.fillText(BlueLosses, 755, 433)
        ctx.fillText(BlueGF, 755, 516)
        ctx.fillText(BlueGA, 755, 600)
        ctx.fillText(BlueSaves, 755, 683)
        ctx.fillText(BlueSA, 755, 768)
        ctx.fillText(Number(BlueSP).toFixed(1), 755, 847)
        ctx.fillText(OrangeWins, 1165, 350)
        ctx.fillText(OrangeLosses, 1165, 433)
        ctx.fillText(OrangeGF, 1165, 516)
        ctx.fillText(OrangeGA, 1165, 600)
        ctx.fillText(OrangeSaves, 1165, 683)
        ctx.fillText(OrangeSA, 1165, 768)
        ctx.fillText(Number(OrangeSP).toFixed(1), 1165, 847)
        
        
        ctx.font = "italic 35px Verdana";
        ctx.fillStyle = "#f5f5f5";
        ctx.textAlign = "right";
        ctx.shadowColor="black";
        ctx.shadowBlur=20;
        ctx.shadowOffsetX = 5;
        ctx.shadowOffsetY = 5;
        ctx.drawImage(Blue, 330, 328, 325, 325)
        ctx.drawImage(Orange, 1270, 328, 325, 325)
        ctx.fillText(localStorage.getItem("BlueFran"), 650, 847)
        ctx.textAlign = "left"
        ctx.fillText(localStorage.getItem("OrangeFran"), 1266, 847)
        ctx.font = "italic bold 55px Verdana";
        ctx.fillStyle = "#f5f5f5";
        ctx.textAlign = "right";
        ctx.fillText(localStorage.getItem("BlueTeam"), 650, 800)
        ctx.textAlign = "left"
        ctx.fillText(localStorage.getItem("OrangeTeam"), 1266, 800)
        
    }
  </script>

<div class="text-light fontR" style="font-size: 25px;" id="blueFranchise">Blue Franchise Name</div>


<script>
'use strict';
        window.onstorage = event => { // same as window.addEventListener('storage', () => {
          location.reload();
        if (event.key != 'BlueTeam') ;
        let blueF = localStorage.getItem("BlueFran")
        document.getElementById("blueFranchise").innerHTML  = localStorage.getItem("BlueFran")
        document.getElementById("blueLogo").src = "../assets/logos/Active Logos/" + blueF + ".png";
        //console.log(blueF)
       

        if (event.key != 'OrangeTeam') ;
        let orangeF = localStorage.getItem("OrangeFran")
        document.getElementById("orangeLogo").src = "../assets/logos/Active Logos/" + orangeF + ".png";
        let Teams = localStorage.getItem("Teams")
        let teamData = ('Teams: ', JSON.parse(Teams))
        console.log(teamData)
        //-----------------------------------------------------------------------------------------------------------//
        var BlueResults = []
var searchField = 'Franchise'
var searchValue = blueF
for (var i=0 ; i < teamData.Teams.length ; i++)
{
  if (teamData.Teams[i][searchField] == searchValue) {
    BlueResults.push(teamData.Teams[i])
  }
}
//console.log(BlueResults[0].Players[0])

var OrangeResults = []
var searchFieldO = 'Franchise'
var searchValueO = orangeF
for (var i=0 ; i < teamData.Teams.length ; i++)
{
  if (teamData.Teams[i][searchFieldO] == searchValueO) {
    OrangeResults.push(teamData.Teams[i])
  }
}
//console.log(OrangeResults)


var BlueWins = BlueResults[0].Wins
var BlueLosses = BlueResults[0].Loss
var BlueGF = BlueResults[0].Goals
var BlueGA = BlueResults[0].OppGoals
var BlueSaves = BlueResults[0].Saves
var BlueSA = BlueResults[0].OppSaves
var BlueSP = BlueResults[0].ShotPct

var OrangeWins = OrangeResults[0].Wins
var OrangeLosses = OrangeResults[0].Loss
var OrangeGF = OrangeResults[0].Goals
var OrangeGA = OrangeResults[0].OppGoals
var OrangeSaves = OrangeResults[0].Saves
var OrangeSA = OrangeResults[0].OppSaves
var OrangeSP = OrangeResults[0].ShotPct




//---------------------------------------------------------------------------------------------------------------//
        setTimeout(()=>{
          myCanvas.width+=0;
        loadImage()
        }, 300)
       /* document.getElementById("blueName").innerHTML = localStorage.getItem("BlueTeam")
        let blueF = localStorage.getItem("BlueFran")
        document.getElementById("blueLogo").src = "assets/logos/Blue Logos/" + blueF + ".png"
        document.getElementById("blueLogoR").src = "assets/logos/Blue Logos/" + blueF + ".png"
        document.getElementById("blueActiveLogo").src = "assets/logos/Active Logos/" + blueF + ".png";
        document.getElementById("blueGoalVideo").src = "assets/goals/" + blueF + ".webm"
        if (event.key != 'OrangeTeam') ;
        document.getElementById("orangeName").innerHTML = localStorage.getItem("OrangeTeam");
        let orangeF = localStorage.getItem("OrangeFran")
        document.getElementById("orangeLogo").src = "assets/logos/Orange Logos/" + orangeF + ".png"
        document.getElementById("orangeLogoR").src = "assets/logos/Orange Logos/" + orangeF + ".png"
        document.getElementById("orangeActiveLogo").src = "assets/logos/Active Logos/" + orangeF + ".png";
        document.getElementById("orangeGoalVideo").src = "assets/goals/" + orangeF + ".webm"
        if (event.key != 'tier') ;
        document.getElementById("tier").innerHTML = localStorage.getItem("tier");
        //if (event.key != 'blueWin1') ;
        //BLUEWIN1()
        if (event.key != 'OrangeWins');
          orangeWins()
        if (event.key != 'BlueWins');
          blueWins()
        if (event.key != 'GameNumber');
        document.getElementById("gameNumber").innerHTML = localStorage.getItem("GameNumber")
        if (event.key != 'series') ;
        document.getElementById("seriesType").innerHTML = localStorage.getItem("series");
        seriesback()
        */
        }
    
        if (typeof(Storage) !== "undefined") {
         let blueF = localStorage.getItem("BlueFran")
         let orangeF = localStorage.getItem("OrangeFran")
         let Teams = localStorage.getItem("Teams")
         let teamData = ('Teams: ', JSON.parse(Teams))
        //console.log(teamData.Teams[1])
        document.getElementById("blueFranchise").innerHTML  = localStorage.getItem("BlueFran")
        document.getElementById("blueLogo").src = "../assets/logos/Active Logos/" + blueF + ".png";
        document.getElementById("orangeLogo").src = "../assets/logos/Active Logos/" + orangeF + ".png";
        //console.log(blueF)
//-----------------------------------------------------------------------------------------------------------//
var BlueResults = []
var searchField = 'Franchise'
var searchValue = blueF
for (var i=0 ; i < teamData.Teams.length ; i++)
{
  if (teamData.Teams[i][searchField] == searchValue) {
    BlueResults.push(teamData.Teams[i])
  }
}
//console.log(BlueResults[0].Players[0])

var OrangeResults = []
var searchFieldO = 'Franchise'
var searchValueO = orangeF
for (var i=0 ; i < teamData.Teams.length ; i++)
{
  if (teamData.Teams[i][searchFieldO] == searchValueO) {
    OrangeResults.push(teamData.Teams[i])
  }
}
//console.log(OrangeResults)

var BlueWins = BlueResults[0].Wins
var BlueLosses = BlueResults[0].Loss
var BlueGF = BlueResults[0].Goals
var BlueGA = BlueResults[0].OppGoals
var BlueSaves = BlueResults[0].Saves
var BlueSA = BlueResults[0].OppSaves
var BlueSP = BlueResults[0].ShotPct

var OrangeWins = OrangeResults[0].Wins
var OrangeLosses = OrangeResults[0].Loss
var OrangeGF = OrangeResults[0].Goals
var OrangeGA = OrangeResults[0].OppGoals
var OrangeSaves = OrangeResults[0].Saves
var OrangeSA = OrangeResults[0].OppSaves
var OrangeSP = OrangeResults[0].ShotPct
}
//---------------------------------------------------------------------------------------------------------------//

        setTimeout(()=>{
        loadImage()
        }, 300)
        /*
        document.getElementById("gameNumber").innerHTML = localStorage.getItem("GameNumber")
        document.getElementById("blueName").innerHTML = localStorage.getItem("BlueTeam");
        document.getElementById("orangeName").innerHTML = localStorage.getItem("OrangeTeam");
        document.getElementById("tier").innerHTML = localStorage.getItem("tier");
        let blueF = localStorage.getItem("BlueFran")
        let orangeF = localStorage.getItem("OrangeFran")
        document.getElementById("blueLogo").src = "assets/logos/Blue Logos/" + blueF + ".png";
        document.getElementById("orangeLogo").src = "assets/logos/Orange Logos/" + orangeF + ".png";
        document.getElementById("blueActiveLogo").src = "assets/logos/Active Logos/" + blueF + ".png";
        document.getElementById("orangeActiveLogo").src = "assets/logos/Active Logos/" + orangeF + ".png";
        document.getElementById("orangeGoalVideo").src = "assets/goals/" + orangeF + ".webm"
        document.getElementById("blueGoalVideo").src = "assets/goals/" + blueF + ".webm"
        document.getElementById("orangeLogoR").src = "assets/logos/Orange Logos/" + orangeF + ".png"
        document.getElementById("blueLogoR").src = "assets/logos/Blue Logos/" + blueF + ".png"
        document.getElementById("seriesType").innerHTML = localStorage.getItem("series");
        */
        
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js'></script>
</body>